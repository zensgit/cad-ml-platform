# GHCR prebuilt image override (no local build)
# Usage:
#   CAD_ML_IMAGE=ghcr.io/your-org/cad-ml-platform:main \
#     docker compose -f deployments/docker/docker-compose.yml \
#     -f deployments/docker/docker-compose.ghcr.yml up -d

services:
  cad-ml-api:
    image: ${CAD_ML_IMAGE:-ghcr.io/zensgit/cad-ml-platform:main}
    platform: ${CAD_ML_PLATFORM:-linux/amd64}
    pull_policy: always
    # Graph2D runtime settings are inherited from the base compose file and .env.

  dedup2d-worker:
    image: ${CAD_ML_IMAGE:-ghcr.io/zensgit/cad-ml-platform:main}
    platform: ${CAD_ML_PLATFORM:-linux/amd64}
    pull_policy: always
    # Graph2D runtime settings are inherited from the base compose file and .env.
