# Example environment overrides for CAD ML Platform

# Server
DEBUG=true
HOST=0.0.0.0
PORT=8000
WORKERS=1
LOG_LEVEL=INFO

# CORS / Trusted hosts
CORS_ORIGINS=["*"]
ALLOWED_HOSTS=["*"]

# Redis
REDIS_ENABLED=false
REDIS_URL=redis://localhost:6379/0

# Vision Provider Configuration
# Provider selection: auto, stub, deepseek, openai, anthropic
VISION_PROVIDER=auto  # auto-detects based on available API keys

# DeepSeek Vision API (https://platform.deepseek.com)
# DEEPSEEK_API_KEY=sk-...

# OpenAI Vision API (GPT-4o) (https://platform.openai.com)
# OPENAI_API_KEY=sk-...
# OPENAI_VISION_MODEL=gpt-4o  # Options: gpt-4o, gpt-4-turbo
# OPENAI_VISION_DETAIL=high  # Options: low, high, auto

# Anthropic Vision API (Claude) (https://console.anthropic.com)
# ANTHROPIC_API_KEY=sk-ant-...
# ANTHROPIC_VISION_MODEL=claude-sonnet-4-20250514  # Or claude-3-5-sonnet-20241022

# Vision / OCR limits
# Max Base64 size for vision input (bytes). Default: 1048576 (1MB)
VISION_MAX_BASE64_BYTES=1048576
# Error rate EMA smoothing (0<alpha<=1). Higher reacts faster. Default: 0.2
ERROR_EMA_ALPHA=0.2
# OCR PDF page upper bound (override internal constant if added). Suggest <=20
OCR_MAX_PDF_PAGES=20
# OCR max file size in MB (override internal constant). Suggest <=50
OCR_MAX_FILE_MB=50

# Vector Store
VECTOR_STORE_BACKEND=memory  # Options: memory, faiss, redis

# Faiss Configuration
FAISS_INDEX_TYPE=flat  # Options: flat (brute-force), hnsw (approximate)
# HNSW parameters (only used when FAISS_INDEX_TYPE=hnsw)
FAISS_HNSW_M=32  # Graph connectivity: higher = better recall, more memory (16-64)
FAISS_HNSW_EF_CONSTRUCTION=40  # Build-time search depth: higher = better quality index (40-200)
FAISS_HNSW_EF_SEARCH=16  # Query-time search depth: higher = better recall, slower (16-256)
